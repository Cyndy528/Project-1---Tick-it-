{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"Template.register.events({\n\t\"submit .form-signup\": function (event) {\n\t\tvar email = trimInput(event.target.email.value);\n\t\tvar password = trimInput(event.target.password.value);\n\t\tvar password2 = trimInput(event.target.password2.value);\n\t\tvar first_name = trimInput(event.target.first_name.value);\n\t\tvar last_name = trimInput(event.target.last_name.value);\n\n\t\tif (isNotEmpty(email) && isNotEmpty(password) && isNotEmpty(first_name) && isNotEmpty(last_name) && isEmail(email) && areValidPasswords(password, password2)) {\n\n\t\t\tAccounts.createUser({\n\t\t\t\temail: email,\n\t\t\t\tpassword: password,\n\t\t\t\tprofile: {\n\t\t\t\t\tfirst_name: first_name,\n\t\t\t\t\tlast_name: last_name\n\t\t\t\t}\n\t\t\t}, function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tFlashMessages.sendError('There was an error with registration');\n\t\t\t\t} else {\n\t\t\t\t\tFlashMessages.sendSuccess('Account Created! You are now logged in');\n\t\t\t\t\tRouter.go('/dashboard');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Prevent Submit\n\t\treturn false;\n\t}\n});\n\n// Validation Rules\n\n// Trim Helper\nvar trimInput = function (val) {\n\treturn val.replace(/^\\s*|\\s*$/g, \"\");\n};\n\n// Check For Empty Fields\nisNotEmpty = function (value) {\n\tif (value && value !== '') {\n\t\treturn true;\n\t}\n\tFlashMessages.sendError(\"Please fill in all fields\");\n\treturn false;\n};\n\n// Validate Email\nisEmail = function (value) {\n\tvar filter = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n\tif (filter.test(value)) {\n\t\treturn true;\n\t}\n\tFlashMessages.sendError(\"Please use a valid email address\");\n\treturn false;\n};\n\n// Check Password Field\nisValidPassword = function (password) {\n\tif (password.length < 6) {\n\t\tFlashMessages.sendError(\"Password must be at least 6 characters\");\n\t\treturn false;\n\t}\n\treturn true;\n};\n\n// Match Password\nareValidPasswords = function (password, confirm) {\n\tif (!isValidPassword(password)) {\n\t\treturn false;\n\t}\n\tif (password !== confirm) {\n\t\tFlashMessages.sendError(\"Passwors do not match\");\n\t\treturn false;\n\t}\n\treturn true;\n};","ast":null,"map":{"version":3,"sources":["/client/templates/register.js"],"names":[],"mappings":"AAAA,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;AACxB,sBAAqB,EAAE,UAAS,KAAK,EAAC;AACrC,MAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AAChD,MAAI,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AACtD,MAAI,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;AACxD,MAAI,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAC1D,MAAI,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;;AAExD,MAAG,UAAU,CAAC,KAAK,CAAC,IACnB,UAAU,CAAC,QAAQ,CAAC,IACpB,UAAU,CAAC,UAAU,CAAC,IACtB,UAAU,CAAC,SAAS,CAAC,IACrB,OAAO,CAAC,KAAK,CAAC,IACd,iBAAiB,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAC;;AAEvC,WAAQ,CAAC,UAAU,CAAC;AACnB,SAAK,EAAE,KAAK;AACZ,YAAQ,EAAE,QAAQ;AAClB,WAAO,EAAE;AACR,eAAU,EAAE,UAAU;AACtB,cAAS,EAAE,SAAS;KACpB;IACD,EAAE,UAAS,GAAG,EAAC;AACf,QAAG,GAAG,EAAC;AACN,kBAAa,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC;KAChE,MAAM;AACN,kBAAa,CAAC,WAAW,CAAC,wCAAwC,CAAC,CAAC;AACpE,WAAM,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;KACxB;IACD,CAAC,CAAC;GACH;;;AAGD,SAAO,KAAK,CAAC;EACb;CACD,CAAC,CAAC;;;;;AAMH,IAAI,SAAS,GAAG,UAAS,GAAG,EAAC;AAC5B,QAAO,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;CACrC,CAAC;;;AAGF,UAAU,GAAG,UAAS,KAAK,EAAE;AACzB,KAAI,KAAK,IAAI,KAAK,KAAK,EAAE,EAAC;AACtB,SAAO,IAAI,CAAC;EACf;AACD,cAAa,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAAC;AACrD,QAAO,KAAK,CAAC;CAChB,CAAC;;;AAGF,OAAO,GAAG,UAAS,KAAK,EAAE;AACtB,KAAI,MAAM,GAAG,iEAAiE,CAAC;AAC/E,KAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AACpB,SAAO,IAAI,CAAC;EACf;AACD,cAAa,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC;AAC5D,QAAO,KAAK,CAAC;CAChB,CAAC;;;AAGF,eAAe,GAAG,UAAS,QAAQ,EAAE;AACjC,KAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AACrB,eAAa,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC;AAClE,SAAO,KAAK,CAAC;EAChB;AACD,QAAO,IAAI,CAAC;CACf,CAAC;;;AAGF,iBAAiB,GAAG,UAAS,QAAQ,EAAE,OAAO,EAAE;AAC5C,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE;AAC5B,SAAO,KAAK,CAAC;EAChB;AACD,KAAI,QAAQ,KAAK,OAAO,EAAE;AACtB,eAAa,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC;AACjD,SAAO,KAAK,CAAC;EAChB;AACD,QAAO,IAAI,CAAC;CACf,CAAC","file":"/client/templates/register.js.map","sourcesContent":["Template.register.events({\n\t\"submit .form-signup\": function(event){\n\t\tvar email = trimInput(event.target.email.value);\n\t\tvar password = trimInput(event.target.password.value);\n\t\tvar password2 = trimInput(event.target.password2.value);\n\t\tvar first_name = trimInput(event.target.first_name.value);\n\t\tvar last_name = trimInput(event.target.last_name.value);\n\n\t\tif(isNotEmpty(email) && \n\t\t\tisNotEmpty(password) && \n\t\t\tisNotEmpty(first_name) && \n\t\t\tisNotEmpty(last_name) && \n\t\t\tisEmail(email) && \n\t\t\tareValidPasswords(password, password2)){\n\n\t\t\tAccounts.createUser({\n\t\t\t\temail: email,\n\t\t\t\tpassword: password,\n\t\t\t\tprofile: {\n\t\t\t\t\tfirst_name: first_name,\n\t\t\t\t\tlast_name: last_name\n\t\t\t\t}\n\t\t\t}, function(err){\n\t\t\t\tif(err){\n\t\t\t\t\tFlashMessages.sendError('There was an error with registration');\n\t\t\t\t} else {\n\t\t\t\t\tFlashMessages.sendSuccess('Account Created! You are now logged in');\n\t\t\t\t\tRouter.go('/dashboard');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Prevent Submit\n\t\treturn false;\n\t}\n});\n\n\n// Validation Rules\n\n// Trim Helper\nvar trimInput = function(val){\n\treturn val.replace(/^\\s*|\\s*$/g, \"\");\n};\n\n// Check For Empty Fields\nisNotEmpty = function(value) {\n    if (value && value !== ''){\n        return true;\n    }\n    FlashMessages.sendError(\"Please fill in all fields\");\n    return false;\n};\n\n// Validate Email\nisEmail = function(value) {\n    var filter = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    if (filter.test(value)) {\n        return true;\n    }\n    FlashMessages.sendError(\"Please use a valid email address\");\n    return false;\n};\n\n// Check Password Field\nisValidPassword = function(password) {\n    if (password.length < 6) {\n        FlashMessages.sendError(\"Password must be at least 6 characters\");\n        return false;\n    }\n    return true;\n};\n\n// Match Password\nareValidPasswords = function(password, confirm) {\n    if (!isValidPassword(password)) {\n        return false;\n    }\n    if (password !== confirm) {\n        FlashMessages.sendError(\"Passwors do not match\");\n        return false;\n    }\n    return true;\n};\n"]},"hash":"6b16749412537b39ceb1c411e9fa4010aa45379e"}
